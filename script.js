let username='Fã'; document.addEventListener('DOMContentLoaded',()=>{ const socket=io(); document.getElementById('theme-toggle').addEventListener('click',()=>{ document.body.classList.toggle('dark-mode'); document.querySelectorAll('.chat-container,.chat-box,#user-input,button,.quick-button,#theme-toggle').forEach(el=>el.classList.toggle('dark-mode')); }); socket.on('game_update',data=>appendMessage('Notícia Ao Vivo',data.message,false)); }); function startChat(){ const name=document.getElementById('name-input').value.trim(); if(name) username=name; document.getElementById('landing-container').style.display='none'; document.querySelector('.chat-container').style.display='flex'; } function sendMessage(){ const input=document.getElementById('user-input'); const msg=input.value.trim(); if(!msg) return; appendMessage(username,msg,true); input.value=''; fetch('/send',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:msg})}).then(res=>res.json()).then(data=>appendMessage('FURIA Bot',data.reply,false)); } function appendMessage(sender,msg,isUser){ const chat= document.getElementById('chat-box'); const d=document.createElement('div'); d.className=`message ${isUser?'user-message':'bot-message'}`; d.innerHTML=`<strong>${sender}:</strong> <span class="typing-effect">${msg}</span>`; chat.appendChild(d); chat.scrollTop=chat.scrollHeight; setTimeout(()=>{d.querySelector('.typing-effect').classList.remove('typing-effect');},msg.length*50);} function sendQuickMessage(m){ appendMessage(username,m,true); fetch('/send',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:m})}).then(res=>res.json()).then(data=>appendMessage('FURIA Bot',data.reply,false)); }